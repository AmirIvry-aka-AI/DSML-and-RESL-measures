<p align="center">
Amir Ivry, Prof. Israel Cohen, and Dr. Baruch Berdugo<br /> 
Andrew and Erna Viterbi Faculty of Electrical and Computer Engineering <br /> 
Technion - Israel Institute of Technology, Haifa, Israel <br /> 
This research was supported by the Pazy Research Foundation, the Israel Science Foundation (ISF), and the International Speech Communication Association (ISCA)
</p>

## Overview
Human subjective evaluation is optimal to assess speech quality for human perception. The recently introduced deep noise suppression mean opinion score (DNSMOS) metric was shown to estimate human ratings with great accuracy [1]. The signal-to-distortion ratio (SDR) metric is widely used to evaluate residual-echo suppression (RES) systems by estimating speech quality during double-talk [2]. However, since the SDR is affected by both speech distortion and residual-echo presence, it does not correlate well with human ratings according to the DNSMOS. To address that, we introduce two objective metrics to separately quantify the desired-speech maintained level (DSML) and residual-echo suppression level (RESL) during double-talk. These metrics are evaluated using a deep learning-based RES-system with a tunable design parameter [3]. Using 280 hours of real and simulated recordings [4], we show that the DSML and RESL correlate well with the DNSMOS with high generalization to various setups. Also, we empirically investigate the relation between tuning the RES-system design parameter and the DSML-RESL tradeoff it creates and offer a practical design scheme for dynamic system requirements. 

<br /> 

| ![setup-1](https://user-images.githubusercontent.com/22732198/124920790-60960b80-e000-11eb-9754-bbadd0a88299.jpg) |
|:--:|
| *General acoustic echo cancellation scenario. The nonlinear components of the echo are modeled with a nonlinear system and the residual echo is suppressed by a dedicated system.* |

<br /> 

## Acoustic Echo Cancellation Setup
Let 
<img src="https://latex.codecogs.com/png.latex?\inline&space;\dpi{120}&space;&space;s\left(n&space;\right&space;)" title="s\left(n \right )" /> be the desired near-end speech signal and let <img src="https://latex.codecogs.com/png.latex?\inline&space;\dpi{120}&space;&space;x\left(n&space;\right&space;)" title="s\left(n \right )" />  be the far-end speech signal. The near-end microphone signal <img src="https://latex.codecogs.com/png.latex?\inline&space;\dpi{120}&space;&space;m\left(n&space;\right&space;)" title="s\left(n \right )" /> is given by <img src="https://latex.codecogs.com/png.latex?\inline&space;\dpi{120}&space;m\left(n&space;\right&space;)&space;=&space;s\left(n&space;\right&space;)&space;&plus;&space;y\left(n&space;\right&space;)&space;&plus;&space;w\left(n&space;\right&space;)" title="m\left(n \right ) = s\left(n \right ) + y\left(n \right ) + w\left(n \right )" />, where <img src="https://latex.codecogs.com/png.latex?\inline&space;\dpi{120}&space;&space;w\left(n&space;\right&space;)" title="s\left(n \right )" /> represents additive environmental and system noises and <img src="https://latex.codecogs.com/png.latex?\inline&space;\dpi{120}&space;&space;y\left(n&space;\right&space;)" title="s\left(n \right )" />  is a  reverberant echo that is nonlinearly generated from <img src="https://latex.codecogs.com/png.latex?\inline&space;\dpi{120}&space;&space;x\left(n&space;\right&space;)" title="s\left(n \right )" /> . Before applying RES, the nonlinear acoustic echo cancellation (NLAEC) system introduced in [5] is applied to reduce nonlinear echo. The NLAEC receives <img src="https://latex.codecogs.com/png.latex?\inline&space;\dpi{120}&space;&space;m\left(n&space;\right&space;)" title="s\left(n \right )" /> as input and <img src="https://latex.codecogs.com/png.latex?\inline&space;\dpi{120}&space;&space;x\left(n&space;\right&space;)" title="s\left(n \right )" /> as reference, and generates two signals: the echo estimate <img src="https://latex.codecogs.com/png.latex?\inline&space;\dpi{120}&space;&space;\widehat{y}\left(n&space;\right&space;)" title="s\left(n \right )" />, and the desired-speech estimate <img src="https://latex.codecogs.com/png.latex?\inline&space;\dpi{120}&space;&space;e\left(n&space;\right&space;)" title="s\left(n \right )" />, given by <img src="https://latex.codecogs.com/png.latex?\inline&space;\dpi{120}&space;e\left(n\right)&space;=&space;m\left(n\right)&space;-&space;\widehat{y}\left(n\right)&space;=&space;s\left(n\right)&space;&plus;&space;\left[y\left(n\right)-\widehat{y}\left(n\right)\right]&space;&plus;&space;w\left(n\right)." title="e\left(n\right) = m\left(n\right) - \widehat{y}\left(n\right) = s\left(n\right) + \left[y\left(n\right)-\widehat{y}\left(n\right)\right] + w\left(n\right)." /> The goal of the RES system is to suppress the residual echo <img src="https://latex.codecogs.com/png.latex?\inline&space;\dpi{120}&space;y\left(n\right)-\widehat{y}\left(n\right)" title="y\left(n\right)-\widehat{y}\left(n\right)" /> without distorting the desired-speech signal <img src="https://latex.codecogs.com/png.latex?\inline&space;\dpi{120}&space;s\left(n\right)" title="s\left(n\right)" />. 

## DSML and RESL Measures

